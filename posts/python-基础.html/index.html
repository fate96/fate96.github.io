<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Python 基础 - Luckyouo Blog</title><meta name=Description content="Luckyouo 的小窝"><meta property="og:title" content="Python 基础"><meta property="og:description" content="前言 记录一些 python 的基础使用 内容 常用的魔法方法 __len__() : 当使用 len 函数时，会自动调用该方法，若类没有使用该方法，则抛出异常 __getitem__() : 当使用切片、索引、for-"><meta property="og:type" content="article"><meta property="og:url" content="https://luckyouo.github.io/posts/python-%E5%9F%BA%E7%A1%80.html/"><meta property="og:image" content="https://luckyouo.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-25T14:57:24+08:00"><meta property="article:modified_time" content="2022-06-02T11:02:02+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://luckyouo.github.io/logo.png"><meta name=twitter:title content="Python 基础"><meta name=twitter:description content="前言 记录一些 python 的基础使用 内容 常用的魔法方法 __len__() : 当使用 len 函数时，会自动调用该方法，若类没有使用该方法，则抛出异常 __getitem__() : 当使用切片、索引、for-"><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://luckyouo.github.io/posts/python-%E5%9F%BA%E7%A1%80.html/><link rel=prev href=https://luckyouo.github.io/posts/java-%E6%95%B0%E7%BB%84%E5%92%8C%E9%9B%86%E5%90%88%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2.html/><link rel=next href=https://luckyouo.github.io/posts/%E5%9B%9E%E6%BA%AF%E6%B3%95.html/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Python 基础","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/luckyouo.github.io\/posts\/python-%E5%9F%BA%E7%A1%80.html\/"},"genre":"posts","keywords":"python","wordcount":3271,"url":"https:\/\/luckyouo.github.io\/posts\/python-%E5%9F%BA%E7%A1%80.html\/","datePublished":"2022-04-25T14:57:24+08:00","dateModified":"2022-06-02T11:02:02+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"luckyouo"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><a href=https://github.com/luckyouo class=github-corner target=_blank title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div class=header-title><a href=/ title="Luckyouo Blog">Luckyouo Blogs</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>归档 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/friends/><i class='fas fa-fw fa-fan fa-spin'></i> 友链 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Luckyouo Blog">Luckyouo Blogs</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/posts/ title>归档</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/friends/ title><i class='fas fa-fw fa-fan fa-spin'></i>友链</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Python 基础</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>luckyouo</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/python/><i class="far fa-folder fa-fw"></i>Python</a></span></div><div class=post-meta-line><i class="far fa-calendar fa-fw"></i>&nbsp;<time datetime=2022-04-25>2022-04-25</time>&nbsp;<i class="far fa-calendar-plus fa-fw"></i>&nbsp;<time datetime=2022-06-02>2022-06-02</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 3271 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 7 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ol><li><a href=#前言>前言</a></li><li><a href=#内容>内容</a><ol><li><a href=#常用的魔法方法>常用的魔法方法</a></li><li><a href=#自增赋值>自增赋值</a></li><li><a href=#序列的拼接>序列的拼接</a></li><li><a href=#除法运算>除法运算</a><ol><li><a href=#四舍五入>四舍五入</a></li><li><a href=#取整数>取整数</a></li><li><a href=#向上取整>向上取整</a></li><li><a href=#取整数和小数部分>取整数和小数部分</a></li></ol></li><li><a href=#nolocal-关键字>nolocal 关键字</a></li><li><a href=#列表推导式的作用域>列表推导式的作用域</a></li><li><a href=#列表推导式的嵌套>列表推导式的嵌套</a></li><li><a href=#切片赋值>切片赋值</a></li><li><a href=#元组自增>元组自增</a></li><li><a href=#序列排序>序列排序</a></li><li><a href=#装饰器>装饰器</a></li><li><a href=#作用域>作用域</a></li><li><a href=#闭包>闭包</a></li><li><a href=#is-和--区别>is 和 == 区别</a></li><li><a href=#浅复制>浅复制</a></li><li><a href=#引用传参>引用传参</a></li><li><a href=#del>del</a></li><li><a href=#classmethod-和-staticmethod>@classmethod 和 @staticmethod</a></li></ol></li></ol></nav></div></div><div class=content id=content><h2 id=前言>前言</h2><p>记录一些 python 的基础使用</p><h2 id=内容>内容</h2><h3 id=常用的魔法方法>常用的魔法方法</h3><ul><li><code>__len__()</code> : 当使用 <code>len</code> 函数时，会自动调用该方法，若类没有使用该方法，则抛出异常</li><li><code>__getitem__()</code> : 当使用切片、索引、for-in 循环时候，会自动调用该方法，若类实现了该方法，则可以使用索引、切片对访问类中的元素</li><li><code>__iter__()</code> : 使用 for-in 循环会自动调用该方法，若类实现了该方法，则表明该类是可以迭代的</li><li><code>__abs__()</code> : 使用 <code>abs</code> 函数会自动调用该方法</li><li><code>__add__()</code> : 对类对象使用 ”+“ 运算符，会自动调用该方法，返回一个新的对象</li><li><code>__mul__()</code> : 对类对象使用 &ldquo;*&rdquo; 运算符，会自动调用该方法，返回一个新的对象</li><li><code>__repr__()</code> : 在终端直接输出对象时，调用该方法</li><li><code>__str__()</code> : 使用 print 打印对象时，调用该方法。如果没有，则使用 <code>__repr__</code> 方法进行替代</li><li><code>__bool__()</code> ：使用 <code>bool</code> 函数时，会自动调用该方法，使用 if 、while 语句时，也会自动调用该方法，因为判断对象是否为真会调用 <code>bool</code> 函数。如果 <code>__bool__</code> 方法不存在时，则调用 <code>__len__</code> 方法进行判断，长度为 0 为假。<strong>默认对象都是为真</strong> 。</li><li><code>__iadd__()</code> : 自增运算，当使用 += 运算符操作对象时，会自动调用该方法。若没有该方法，则会后退调用 <code>__add__</code> 方法。</li><li><code>__call__()</code> : 实现了该方法的类的对象，它的实例可以作为函数进行调用。</li></ul><h3 id=自增赋值>自增赋值</h3><p>使用 += 等自增运算符时，表示原地自增。而使用 + 运算符，则生成了新的对象，并赋值。比如 a += b，则在 a 的基础上直接增加，不会生成新的变量。而 a = a + b ，则表示 a + b 生成新的对象，并将该对象的引用赋值给 a 。一般可变序列都实现了 <code>__iadd__</code> 等自增运算符，不可变序列则不支持该方法。</p><h3 id=序列的拼接>序列的拼接</h3><p>python 中两个列表相加时，是将两个列表合并为一个列表，合并顺序与相加顺序一致。这与 pytorch 的向量相加不一样，pytorch 两个向量相加则是对应位置值相加（按照广播原则进行）。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>out</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=n>arr</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## [3, 1, 2]</span>
</span></span></code></pre></td></tr></table></div></div><p>使用 $*$ 运算符进行序列拼接时，若元素为引用对象的引用的话，则拼接的多个序列都指向一个对象。若发生修改，则都进行修改。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>weird_board</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;_&#39;</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span> 
</span></span><span class=line><span class=cl><span class=n>weird_board</span><span class=p>[</span><span class=mi>1</span><span class=p>][</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;O&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># [[&#39;_&#39;, &#39;_&#39;, &#39;O&#39;], [&#39;_&#39;, &#39;_&#39;, &#39;O&#39;], [&#39;_&#39;, &#39;_&#39;, &#39;O&#39;]]</span>
</span></span></code></pre></td></tr></table></div></div><p>此时，需要使用列表推导式进行生成</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>board</span> <span class=o>=</span> <span class=p>[[</span><span class=s1>&#39;_&#39;</span><span class=p>]</span> <span class=o>*</span> <span class=mi>3</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>)]</span> 
</span></span></code></pre></td></tr></table></div></div><h3 id=除法运算>除法运算</h3><p>python3 中 <code>/</code> 除法，两个操作数会转换为 float 类型，结果而已为 float 类型，如果需保持整数类型是，需要使用 <code>//</code> 运算符。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 死循环</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>a</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>/=</span> <span class=mi>10</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=四舍五入>四舍五入</h4><p>使用 round 方法对结果四舍五入</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>round</span><span class=p>(</span><span class=mi>10</span> <span class=o>/</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># 3</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=取整数>取整数</h4><p>舍去小数部分，只留整数部分</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>int</span> <span class=p>(</span><span class=o>-</span><span class=mi>7</span> <span class=o>/</span> <span class=mi>6</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># 0</span>
</span></span><span class=line><span class=cl><span class=n>pirnt</span><span class=p>(</span><span class=nb>round</span><span class=p>(</span><span class=o>-</span><span class=mi>7</span> <span class=o>/</span> <span class=mi>6</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># -1</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=向上取整>向上取整</h4><p>使用 math 库中的 ceil 方法，对结果向上取整</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>ceil</span><span class=p>(</span><span class=mi>10</span> <span class=o>/</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># 4</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=取整数和小数部分>取整数和小数部分</h4><p>使用 math 库中的 modf 方法，取结果的整数和小数部分，结果为二元组。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>math</span><span class=o>.</span><span class=n>modf</span><span class=p>(</span><span class=mi>10</span> <span class=o>/</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1># (0.3333333333333335, 3.0)</span>
</span></span></code></pre></td></tr></table></div></div><p>参考： <a href=http://www.juzicode.com/python-note-divide/ target=_blank rel="noopener noreffer">Python除法：四舍五入，地板除，取整，取小数</a></p><h3 id=nolocal-关键字>nolocal 关键字</h3><p>函数嵌套定义时，内部函数变量默认为局部变量，外部函数无法访问，即内部函数调用完成后销毁。若需要将内部变量提供给外部函数时，可以使用关键字 <code>nolocal</code> 关键字修饰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>  <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;John&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>myfunc2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>nonlocal</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;hello&#34;</span>
</span></span><span class=line><span class=cl>  <span class=n>myfunc2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>myfunc1</span><span class=p>())</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=列表推导式的作用域>列表推导式的作用域</h3><p>在 python2.* 版本中，列表推导式的变量会影响外部变量，但在 python3 中，列表推导式为局部作用域，不会影响外部变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>dummy</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=s1>&#39;abc&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 2</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=列表推导式的嵌套>列表推导式的嵌套</h3><p>列表推导式的 for 循环嵌套与书写顺序一致，生成相应的笛卡尔积结果</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>product</span> <span class=o>=</span> <span class=p>[(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=c1># (0, 3) (0, 4) ...</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=切片赋值>切片赋值</h3><p>如果把切片放在赋值语句的左边,或把它作为 del 操作的对象,我们就可以对序列进行嫁接、切除或就地修改操作。如果赋值的对象是一个切片，那么赋值语句的右侧必须是可以迭代的对象。<strong>赋值的长度不需要一致</strong></p><h3 id=元组自增>元组自增</h3><p>元组是不支持自增运算的，但是元组内部的若含有可变对象时，则可以进行自增，但是自增之后因为于元组内数据发生变化，则会抛出异常。（说明自增运算不是原子操作，普通 + 则直接抛出异常，且数据不会发生变更）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=p>[</span><span class=mi>30</span><span class=p>,</span> <span class=mi>40</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>t</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+=</span> <span class=p>[</span><span class=mi>50</span><span class=p>,</span> <span class=mi>60</span><span class=p>]</span> <span class=c1># 抛出异常，但 t 已经发生变化</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=p>)</span> <span class=c1># t = (1, 2, [30, 40, 50, 60])</span>
</span></span></code></pre></td></tr></table></div></div><p>所以，元组内不应该放置可变元素</p><h3 id=序列排序>序列排序</h3><p><code>list.sort()</code> 会对序列原地排序，所以返回结果为 None，而内置的函数 <code>sorted()</code> 则会返回排序好的序列，该方法需要序列可以进行迭代，且两个方法都有两个关键字：</p><ol><li>reverse：为 True 时，进行逆序排列。</li><li>key： 一个只有一个参数的函数，该函数会应用到所有元素上，并使用结果进行排序，默认恒等函数。</li></ol><h3 id=装饰器>装饰器</h3><p>python 的装饰期在模块加载之后就立即执行。装饰器其实就是一个高阶函数，是一个语法糖。参数化的装饰器本质为两层嵌套函数，外层相当于装饰器工厂，根据参数返回需要的装饰器。</p><p>常用的装饰器：</p><ol><li><code>functools.lru_cache()</code></li></ol><p>该装饰器实现了备忘的功能，并使用最近最少用策略管理缓存。 <code>cache</code> 装饰器不清理缓存，更快。这些在需要递归的函数中使用。<strong>可以在算法中需要使用记忆花搜索时使用</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>functools</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@functools.lru_cache</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nd>@clock</span> <span class=c1># 自己实现的查看函数执行时间的装饰器</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>n</span>  <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>必须像常规函数那样调用 lru_cache。这一行中有一对括号: <code>@functools.lru_cache()</code>。这么做的原因是，<code>lru_cache</code> 可以接受配置参数。使用该装饰器之后，这样每个 n 都只会执行一次。</p><p>该装饰器的签名 <code>functools.lru_cache(maxsize=128, typed=False)</code> 。maxsize 参数指定存储多少个调用的结果。缓存满了之后,旧的结果会被扔掉,腾出空间。为了得到最佳性能，maxsize 应该设为 2 的幂。typed 参数如果设为 True，把不同参数类型得到的结果分开保存，即把通常认为相等的浮点数和整数参数(如 1 和 1.0)区分开。</p><p>因为 <code>lru_cache</code> 使用了哈希散列存储，所以被装饰器的函数中的的参数都必须是可以散列的。</p><ol start=2><li><code>functools.singledispatch</code></li></ol><p>由于 python 函数不支持重载，所以如果需要编写同名方法的函数，只能使用 <code>if-else</code> 调用不同的函数执行，于是则各个函数之间耦合过于紧密。python3.4 增加了 <code>functools.singledispatch</code> 装饰器用于解决该问题。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>singledispatch</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>abc</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numbers</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@singledispatch</span> <span class=err>➊</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>htmlize</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>content</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>obj</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;&lt;pre&gt;</span><span class=si>{}</span><span class=s1>&lt;/pre&gt;&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@htmlize.register</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span> <span class=err>➋</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>_</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>content</span> <span class=o>=</span> <span class=n>html</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=n>text</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>,</span> <span class=s1>&#39;&lt;br&gt;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;&lt;p&gt;</span><span class=si>{0}</span><span class=s1>&lt;/p&gt;&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@htmlize.register</span><span class=p>(</span><span class=n>numbers</span><span class=o>.</span><span class=n>Integral</span><span class=p>)</span> <span class=err>➍</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>_</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=s1>&#39;&lt;pre&gt;</span><span class=si>{0}</span><span class=s1> (0x</span><span class=si>{0:x}</span><span class=s1>)&lt;/pre&gt;&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@htmlize.register</span><span class=p>(</span><span class=nb>tuple</span><span class=p>)</span> <span class=err>➎</span>
</span></span><span class=line><span class=cl><span class=nd>@htmlize.register</span><span class=p>(</span><span class=n>abc</span><span class=o>.</span><span class=n>MutableSequence</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>_</span><span class=p>(</span><span class=n>seq</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>inner</span> <span class=o>=</span> <span class=s1>&#39;&lt;/li&gt;</span><span class=se>\n</span><span class=s1>&lt;li&gt;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>htmlize</span><span class=p>(</span><span class=n>item</span><span class=p>)</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>seq</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=s1>&#39;&lt;ul&gt;</span><span class=se>\n</span><span class=s1>&lt;li&gt;&#39;</span> <span class=o>+</span> <span class=n>inner</span> <span class=o>+</span> <span class=s1>&#39;&lt;/li&gt;</span><span class=se>\n</span><span class=s1>&lt;/ul&gt;&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>singledispatch 创建一个自定义的 htmlize.register 装饰器，把多个函数绑在一起组成一个泛函数。</p><h3 id=作用域>作用域</h3><p>如果在函数体的内部定义了一个与全部变量同名的局部变量，则 python 会优先将该变量是作为局部变量，如果在赋值之前使用了该变量，则会抛出为引用的异常。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=n>a</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=c1># b 为局部变量，为初始化使用抛出异常</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=mi>6</span>
</span></span></code></pre></td></tr></table></div></div><p>如果要在函数中使用全局变量，则应该使用 <code>global</code> 关键字。</p><h3 id=闭包>闭包</h3><p>闭包是一种函数，它会保留定义函数时存在的自由变量的绑定，这样调用函数时，虽然定义作用域不可用了，但是仍能使用那些绑定。当闭包内使用的是不可变量时，若发生变化，则会变成局部变量，而不是自由变量。因此，则闭包内使用不可变量时，需要使用 <code>nolocal</code> 关键字，将不可变量标记为自由变量。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>make_averager</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>series</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>averager</span><span class=p>(</span><span class=n>new_value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>series</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>new_value</span><span class=p>)</span> <span class=c1># 自由变量</span>
</span></span><span class=line><span class=cl>            <span class=n>total</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>series</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        	<span class=k>return</span> <span class=n>total</span><span class=o>/</span><span class=nb>len</span><span class=p>(</span><span class=n>series</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>averager</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>make_averager</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>averager</span><span class=p>(</span><span class=n>new_value</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>	<span class=c1># 局部变量</span>
</span></span><span class=line><span class=cl>        <span class=n>total</span> <span class=o>+=</span> <span class=n>new_value</span> <span class=c1># 局部变量</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>total</span> <span class=o>/</span> <span class=n>count</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>averager</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=is-和--区别>is 和 == 区别</h3><p>is 在 python 中比较的是两个对象的 id，在 cpython 解释器中，id 即为对象的内存地址。而 == 则是调用对象的 <code>__eq__</code> 方法。这与 java 实现存在差异，在 java 中 == 比较是内存的地址。速度来说， is 直接比较内存地址，而 == 则需要调用方法，故 is 更快。</p><h3 id=浅复制>浅复制</h3><p>序列的构造方法和切片生成的结果都是浅复制，如果里面的元素都是不可变对象时，则没有差异，如果是引用对象时，则会同时发生变化，和 java 一致。</p><p>copy 模块提供了 deepcopy 函数进行深拷贝。</p><h3 id=引用传参>引用传参</h3><p>Python 唯一支持的参数传递模式是共享传参(call by sharing)，即引用传参数。共享传参指函数的各个形式参数获得实参中各个引用的副本。也就是说,函数内部的形参是实参的别名。</p><p>所以不应该将可变量作为默认参数进行传递。如果使用可变对象作为默认参数，则所有默认参数都将共享一个参数，会出现奇怪 bug。</p><h3 id=del>del</h3><p>del 语句删除名称,而不是对象。del 命令可能会导致对象被当作垃圾回收,但是仅当删除的变量保存的是对象的最后一个引用,或者无法得到对象时。</p><p>当对象的引用数量归零后,垃圾回收程序会把对象销毁。但是,有时需要引用对象,而不让对象存在的时间超过所需时间。这经常用在缓存中。弱引用不会增加对象的引用数量。引用的目标对象称为所指对象(referent)。因此我们说,
弱引用不会妨碍所指对象被当作垃圾回收。</p><h3 id=classmethod-和-staticmethod>@classmethod 和 @staticmethod</h3><p>classmethod 该装饰器表示修饰的方法可以通过类名直接调用，当然也可以通过类的对象的调用，该方法传入的第一个参数对象为类对象。而 staticmethod 表示的类的静态方法，方法不需传入实例对象或者类对象。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2022-06-02</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/python-%E5%9F%BA%E7%A1%80.html/index.md target=_blank>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://luckyouo.github.io/posts/python-%E5%9F%BA%E7%A1%80.html/ data-title="Python 基础" data-hashtags=python><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://luckyouo.github.io/posts/python-%E5%9F%BA%E7%A1%80.html/ data-hashtag=python><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://luckyouo.github.io/posts/python-%E5%9F%BA%E7%A1%80.html/ data-title="Python 基础"><i class="fab fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/python/>Python</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/java-%E6%95%B0%E7%BB%84%E5%92%8C%E9%9B%86%E5%90%88%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2.html/ class=prev rel=prev title="Java 数组和集合之间的转换"><i class="fas fa-angle-left fa-fw"></i>Java 数组和集合之间的转换</a>
<a href=/posts/%E5%9B%9E%E6%BA%AF%E6%B3%95.html/ class=next rel=next title=回溯法>回溯法<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><span id=run-time></span></div><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.112.5">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>luckyouo</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><div class=sidebar_wo><div id=leimu><img src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuA.png alt=雷姆 onmouseover='this.src="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuB.png"' onmouseout='this.src="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuA.png"' title=回到顶部></div><div class=sidebar_wo id=lamu><img src=https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuA.png alt=雷姆 onmouseover='this.src="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuB.png"' onmouseout='this.src="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuA.png"' title=回到底部></div></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:15},comment:{},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js></script><script type=text/javascript src=/js/custom.js></script></body></html>